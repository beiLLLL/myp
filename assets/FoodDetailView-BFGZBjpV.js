import{_ as M,e as C,g as u,h as p,i as j,c as l,a as s,j as v,F as h,r as m,w as R,v as S,b as g,t as o,d as $,o as i,n as A,k as E}from"./index-dkzG3lDa.js";const N={class:"food-menu-page"},O={class:"filter-bar"},T={class:"filter-group"},P=["onClick"],q={class:"search-box"},z={class:"menu-content"},I={class:"region-header"},Q={class:"region-title"},U={class:"food-count"},G={class:"region-stats"},H={class:"stat"},J={key:0,class:"stat spicy-stat"},K={class:"foods-grid"},W=["onClick"],X={class:"card-image-container"},Y=["src","alt"],Z={class:"card-badges"},ss={key:0,class:"badge spicy-badge"},ts={class:"badge price-badge"},es={class:"card-content"},as={class:"food-name"},ns={class:"food-description"},os={class:"card-meta"},ls={class:"meta-item"},is={class:"meta-item"},cs={class:"food-tags"},rs={class:"card-actions"},ds=["onClick"],us={key:0,class:"empty-state"},ps={class:"page-footer"},_s={class:"footer-stats"},vs={class:"footer-stat"},hs={class:"stat-number"},ms={class:"footer-stat"},gs={class:"stat-number"},bs={class:"footer-stat"},ys={class:"stat-number"},ks={__name:"FoodDetailView",setup(fs){const w=$(),r=C(""),d=C(""),b=u(()=>{const e=new Set(p.map(t=>t.region));return Array.from(e)}),x=u(()=>p.reduce((e,t)=>(e[t.region]||(e[t.region]=[]),e[t.region].push(t),e),{})),y=u(()=>{let e={...x.value};if(r.value&&(e={[r.value]:e[r.value]||[]}),d.value.trim()){const t=d.value.toLowerCase().trim();Object.keys(e).forEach(a=>{e[a]=e[a].filter(c=>c.name.toLowerCase().includes(t)||c.description.toLowerCase().includes(t)||c.tags.some(n=>n.toLowerCase().includes(t)))}),Object.keys(e).forEach(a=>{e[a].length===0&&delete e[a]})}return e}),L=u(()=>p.length),B=u(()=>{const e=p.reduce((t,a)=>t+a.price,0);return Math.round(e/p.length)}),F=e=>{r.value=r.value===e?"":e},k=()=>{r.value="",d.value=""},f=e=>{w.push(`/food/${e}`)},V=e=>{const t=e.reduce((a,c)=>a+c.price,0);return Math.round(t/e.length)},D=e=>e.some(t=>t.spicyLevel>0);return j(()=>{console.log("ç¾é£Ÿèœå•é¡µé¢åŠ è½½å®Œæˆ")}),(e,t)=>(i(),l("div",N,[t[12]||(t[12]=s("div",{class:"page-header"},[s("h2",null,[s("span",{class:"header-icon"},"ğŸ“‹"),v(" ç¾é£Ÿèœå•")]),s("p",{class:"page-subtitle"},"æ¢ç´¢å„ç§ç¾é£Ÿï¼ŒæŒ‰åœ°åŒºåˆ†ç±»æµè§ˆ")],-1)),s("div",O,[s("div",T,[t[1]||(t[1]=s("span",{class:"filter-label"},"ç­›é€‰ï¼š",-1)),(i(!0),l(h,null,m(b.value,a=>(i(),l("button",{key:a,onClick:c=>F(a),class:A(["filter-btn",{active:r.value===a}])},o(a),11,P))),128)),s("button",{onClick:k,class:"filter-btn clear-btn"}," æ˜¾ç¤ºå…¨éƒ¨ ")]),s("div",q,[R(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>d.value=a),placeholder:"æœç´¢ç¾é£Ÿåç§°...",class:"search-input"},null,512),[[S,d.value]]),t[2]||(t[2]=s("span",{class:"search-icon"},"ğŸ”",-1))])]),s("div",z,[(i(!0),l(h,null,m(y.value,(a,c)=>(i(),l("div",{key:c,class:"region-section"},[s("div",I,[s("h3",Q,[t[3]||(t[3]=s("span",{class:"region-icon"},"ğŸ“",-1)),v(" "+o(c)+"ç¾é£Ÿ ",1),s("span",U,"("+o(a.length)+"ç§)",1)]),s("div",G,[s("span",H,"å¹³å‡ä»·æ ¼ï¼šÂ¥"+o(V(a)),1),D(a)?(i(),l("span",J," åŒ…å«è¾£å‘³ç¾é£Ÿ ")):g("",!0)])]),s("div",K,[(i(!0),l(h,null,m(a,n=>(i(),l("div",{key:n.id,class:"food-card",onClick:_=>f(n.id)},[s("div",X,[s("img",{src:n.image,alt:n.name,class:"card-image"},null,8,Y),s("div",Z,[n.spicyLevel>0?(i(),l("span",ss," ğŸŒ¶ï¸ "+o(n.spicyLevel)+"çº§è¾£åº¦ ",1)):g("",!0),s("span",ts,"Â¥"+o(n.price),1)])]),s("div",es,[s("h4",as,o(n.name),1),s("p",ns,o(n.description.substring(0,60))+"...",1),s("div",os,[s("span",ls,[t[4]||(t[4]=s("span",{class:"meta-icon"},"ğŸ“",-1)),v(" "+o(n.region),1)]),s("span",is,[t[5]||(t[5]=s("span",{class:"meta-icon"},"ğŸ·ï¸",-1)),v(" "+o(n.category),1)])]),s("div",cs,[(i(!0),l(h,null,m(n.tags.slice(0,3),_=>(i(),l("span",{key:_,class:"tag"},o(_),1))),128))])]),s("div",rs,[s("button",{class:"view-detail-btn",onClick:E(_=>f(n.id),["stop"])}," æŸ¥çœ‹è¯¦æƒ… ",8,ds)])],8,W))),128))])]))),128)),Object.keys(y.value).length===0?(i(),l("div",us,[t[6]||(t[6]=s("div",{class:"empty-icon"},"ğŸ½ï¸",-1)),t[7]||(t[7]=s("h3",null,"æ²¡æœ‰æ‰¾åˆ°ç›¸å…³ç¾é£Ÿ",-1)),t[8]||(t[8]=s("p",null,"å°è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶æˆ–æœç´¢å…³é”®è¯",-1)),s("button",{onClick:k,class:"reset-btn"}," é‡ç½®ç­›é€‰æ¡ä»¶ ")])):g("",!0)]),s("div",ps,[s("div",_s,[s("div",vs,[s("span",hs,o(L.value),1),t[9]||(t[9]=s("span",{class:"stat-label"},"æ€»ç¾é£Ÿæ•°",-1))]),s("div",ms,[s("span",gs,o(b.value.length),1),t[10]||(t[10]=s("span",{class:"stat-label"},"åœ°åŒºæ•°é‡",-1))]),s("div",bs,[s("span",ys,o(B.value),1),t[11]||(t[11]=s("span",{class:"stat-label"},"å¹³å‡ä»·æ ¼",-1))])])])]))}},ws=M(ks,[["__scopeId","data-v-0596db21"]]);export{ws as default};
