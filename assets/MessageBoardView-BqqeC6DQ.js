import{_ as w,e as d,i as h,c as i,a as s,k,w as m,v as u,b,F as D,r as y,o as l,t as r}from"./index-82ril0ac.js";const M={class:"message-board"},S={class:"container"},x={class:"message-form"},C={class:"form-group"},V={class:"form-group"},$={class:"messages-list"},B={key:0,class:"empty-messages"},N={class:"message-header"},L={class:"message-name"},T={class:"message-time"},q={class:"message-content"},I={class:"message-actions"},E=["onClick"],F=["onClick"],J={__name:"MessageBoardView",setup(O){const o=d([{id:1,name:"ç¾é£Ÿæ¢ç´¢è€…",content:"ä»Šå¤©åƒäº†å®«ä¿é¸¡ä¸ï¼ŒçœŸçš„æ˜¯å¤ªç¾å‘³äº†ï¼æ¨èå¤§å®¶ä¸€å®šè¦è¯•è¯•ï¼",time:new Date("2024-01-10 14:30:00"),likes:5},{id:2,name:"çˆ±åƒçš„å°ç‹",content:"æœ‰æ²¡æœ‰äººæ¨èä¸€ä¸‹ä¸è¾£çš„ç¾é£Ÿå•Šï¼Ÿæˆ‘åƒä¸äº†è¾£ã€‚",time:new Date("2024-01-09 10:15:00"),likes:3},{id:3,name:"å¯¿å¸æ§",content:"æ—¥æœ¬æ–™ç†æ°¸è¿œæ˜¯æˆ‘çš„æœ€çˆ±ï¼Œç‰¹åˆ«æ˜¯æ–°é²œçš„ä¸‰æ–‡é±¼å¯¿å¸ï¼",time:new Date("2024-01-08 18:45:00"),likes:8}]),a=d({name:"",content:""});h(()=>{const n=localStorage.getItem("eatwhat_messages");if(n){const t=JSON.parse(n);t.forEach(e=>{e.time=new Date(e.time)}),o.value=t}});const v=()=>{if(!a.value.name.trim()||!a.value.content.trim()){alert("è¯·å¡«å†™æ˜µç§°å’Œç•™è¨€å†…å®¹ï¼");return}const n={id:Date.now(),name:a.value.name,content:a.value.content,time:new Date,likes:0};o.value.unshift(n),a.value={name:"",content:""},c()},f=n=>{const t=o.value.find(e=>e.id===n);t&&(t.likes+=1,c())},p=n=>{a.value.content=`@${n.name}ï¼š`,document.querySelector(".form-textarea").focus()},g=n=>{const e=new Date-new Date(n);return e<6e4?"åˆšåˆš":e<36e5?`${Math.floor(e/6e4)}åˆ†é’Ÿå‰`:e<864e5?`${Math.floor(e/36e5)}å°æ—¶å‰`:e<6048e5?`${Math.floor(e/864e5)}å¤©å‰`:new Date(n).toLocaleDateString("zh-CN",{month:"short",day:"numeric"})},c=()=>{localStorage.setItem("eatwhat_messages",JSON.stringify(o.value))};return(n,t)=>(l(),i("div",M,[s("div",S,[t[6]||(t[6]=s("h2",{class:"page-title"},"ğŸ’¬ ç•™è¨€æ¿",-1)),t[7]||(t[7]=s("p",{class:"page-subtitle"},"åˆ†äº«ä½ çš„ç¾é£Ÿä½“éªŒï¼Œæˆ–è€…åæ§½ä¸€ä¸‹éš¾åƒçš„ä¸œè¥¿ï¼",-1)),s("div",x,[t[3]||(t[3]=s("h3",null,"å‘è¡¨ç•™è¨€",-1)),s("form",{onSubmit:k(v,["prevent"])},[s("div",C,[m(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>a.value.name=e),placeholder:"ä½ çš„æ˜µç§°",required:"",class:"form-input"},null,512),[[u,a.value.name]])]),s("div",V,[m(s("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.value.content=e),placeholder:"æœ‰ä»€ä¹ˆæƒ³è¯´çš„ï¼Ÿ",rows:"4",required:"",class:"form-textarea"},null,512),[[u,a.value.content]])]),t[2]||(t[2]=s("button",{type:"submit",class:"submit-btn"},"å‘è¡¨ç•™è¨€",-1))],32)]),s("div",$,[t[5]||(t[5]=s("h3",null,"æœ€è¿‘ç•™è¨€",-1)),o.value.length===0?(l(),i("div",B,[...t[4]||(t[4]=[s("p",null,"è¿˜æ²¡æœ‰ç•™è¨€ï¼Œå¿«æ¥ç¬¬ä¸€ä¸ªå‘è¨€å§ï¼",-1)])])):b("",!0),(l(!0),i(D,null,y(o.value,e=>(l(),i("div",{key:e.id,class:"message-card"},[s("div",N,[s("span",L,r(e.name),1),s("span",T,r(g(e.time)),1)]),s("div",q,r(e.content),1),s("div",I,[s("button",{onClick:_=>f(e.id),class:"like-btn"}," ğŸ‘ "+r(e.likes),9,E),s("button",{onClick:_=>p(e),class:"reply-btn"}," å›å¤ ",8,F)])]))),128))])])]))}},z=w(J,[["__scopeId","data-v-eeaa06c4"]]);export{z as default};
